<div style="padding-top:5%; width:50%; padding-left: 3%;">

    <table>
        <th>Filter The Results</th>
        <tr>
            <td>
<!--                <input type="checkbox" ng-model="rank" value="rank">By Rank-->
                <button ng-click="byRank()">By Rank</button>
            </td>
        <tr>
            <td>
                <input id="byName" name="byName" ng-model="searchName" placeholder="Search By Name" class="form-control">
            </td>
        </tr>
        <td>
            <select id="categories" name="categories" ng-model="categories">
                <option value="">None</option>
                <option value="1">Architecture</option>
                <option value="2">Museums</option>
                <option value="3">Shopping</option>
                <option value="4">Restaurants</option>
            </select>
            <button ng-click="sortByCategory()">Search By Category</button>
        </td>
        </tr>
    </table>

    <button ng-click="updateAllFavorites()">update favorites</button>

    <!--   CATEGORY SORTED-->
    <br>
    <br>
    <div ng-hide="rank == true || byCat == true" ng-repeat="poi in allPOIs | filter:searchName" >
        <div>
            <a ng-click="onclick(poi, 'myModalSearch')">
                <header>
                    <h2>{{poi.NamePOI}}</h2>
                </header>
                <img ng-src={{poi.Picture}} height="200" width="400" alt=""/></a>
            <input  type="checkbox" ng-show="loged" ng-click="addToFavorites(poi)"
                   ng-checked={{isInFavorites(poi)}}><spam ng-show="loged">In My Favorites</spam>
<!--            <button ng-show="loged" ng-click="addReview(poi)">Add Review</button>-->
            <!-- The Modal -->
            <div id="myModalSearch{{poi.NamePOI}}" class="modal">
                <!-- Modal content -->
                <div>
                    <div class="modal-content">
                        <span ng-click="onXClickSearch(poi.NamePOI, 'myModalSearch')" class="close">&times;</span>
                        <h3>{{poi.NamePOI}}</h3>
                        <section>Category: {{categoryJSON[poi.CategoryID]}}
                            <br>
                            Rank: {{poi.Rank}}
                            <br>
                            Details: {{poi.Details}}
                            <br>
                            Number of Views: {{poi.NumOfViews}}
                            <br>
                            <span ng-bind-html="reviews"></span>
                        </section>
                    </div>
                </div>
            </div>

        </div>
        <button ng-show="loged"  ng-click="addReview(poi)">Review</button>
        <form name="addReviewForm" class="search-property-1" ng-submit="sendReview(poi)">
        <div id="addReview{{poi.NamePOI}}" class="modal">
            <div class="modal-content">
                <span ng-click="onXClickSearch(poi.NamePOI, 'addReview')" class="close">&times;</span>

                <header>
                    <h2>Add Review To: {{poi.NamePOI}}</h2>
                </header>
                <h2>Rank:</h2>
                <select id=numRank{{poi.NamePOI}}" name="numRank" ng-model="numRank">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                </select>
<!--                <input type="text" name="numRank" ng-model="numRank">-->
                <h2>Your Review:</h2>
                <textarea id="reviewText" name="reviewText" ng-model="reviewText" rows="4" cols="50"></textarea>
                <input type="submit" id="submit" value="Send Review" class="form-control btn btn-primary">
            </div>
            </div>
        </form>
<!--                <button ng-click="sendReview(poi)">Send Review</button>-->
            </div>

        </div>
    </div>
    <!--SORT BY RANK-->
    <div ng-hide="rank == false || byCat == true" ng-hide="byCat == true" ng-repeat="poi in ranked | filter:searchName" style="border: solid">
        <div>
            <a ng-click="onclick(poi, 'myModalSearchRank')">
                <header>
                    <h2>{{poi.NamePOI}}</h2>
                </header>
                <img ng-src={{poi.Picture}} height="200" width="400" alt=""/></a>
            <button ng-show="loged" ng-click="addToFavorites(poi)">Add To Favorites</button>
            <!-- The Modal -->
            <div id="myModalSearchRank{{poi.NamePOI}}" class="modal">
                <!-- Modal content -->
                <div>
                    <div class="modal-content">
                            <span ng-click="onXClickSearch(poi.NamePOI, 'myModalSearchRank')"
                                  class="close">&times;</span>
                        <h3>{{poi.NamePOI}}</h3>
                        <section>Category: {{categoryJSON[poi.CategoryID]}}
                            <br>
                            Rank: {{poi.Rank}}
                            <br>
                            Details: {{poi.Details}}
                            <br>
                            Number of Views: {{poi.NumOfViews}}
                            <br>
                            <span ng-bind-html="reviews"></span>
                        </section>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <!--    SORT BY CATEGORY-->
    <div ng-show ="byCat == true"  ng-repeat="poi in categorySorted | filter:searchName" >
        <div>
            <a ng-click="onclick(poi, 'myModalSearchCat')">
                <header>
                    <h2>{{poi.NamePOI}}</h2>
                </header>
                <img ng-src={{poi.Picture}} height="200" width="400" alt=""/></a>
            <button ng-show="loged" ng-click="addToFavorites(poi)">Add To Favorites</button>
            <!-- The Modal -->
            <div id="myModalSearchCat{{poi.NamePOI}}" class="modal">
                <!-- Modal content -->
                <div>
                    <div class="modal-content">
                            <span ng-click="onXClickSearch(poi.NamePOI, 'myModalSearchCat')"
                                  class="close">&times;</span>
                        <h3>{{poi.NamePOI}}</h3>
                        <section>Category: {{categoryJSON[poi.CategoryID]}}
                            <br>
                            Rank: {{poi.Rank}}
                            <br>
                            Details: {{poi.Details}}
                            <br>
                            Number of Views: {{poi.NumOfViews}}
                            <br>
                            <span ng-bind-html="reviews"></span>
                        </section>
                    </div>
                </div>
            </div>

        </div>
    </div>



</div>

